<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <title>Bar-Gen Demo</title>

    <!-- Load Bootstrap CSS -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- Load bar-gen CSS -->
    <link rel="stylesheet" href="bar-gen.css">
  </head>

  <body>
    <div class="container">

      <div class="jumbotron jumbotron-fluid">
        <div class="container text-center">
          <h1 class="display-3">Bar-Gen</h1>
          <p class="lead">The customizable bar chart generator</p>
        </div>
      </div>

      <form id="chart-options">

        <h2>Create Your Own Bar Chart!</h2>
        <div class="row form-group">

          <div class="col-md-3 col-sm-6">
            <label for="height" class="col-form-label">Height</label>
            <input type="text" id="height" class="form-control" placeholder="350">
          </div>

          <div class="col-md-3 col-sm-6">
            <label for="width" class="col-form-label">Width</label>
            <input type="text" id="width" class="form-control" placeholder="475">
          </div>

          <div class="col-md-3 col-sm-6">
            <label for="spacer-width" class="col-form-label">Spacer Width</label>
            <input type="text" id="spacer-width" class="form-control" placeholder="2">
          </div>

          <div class="col-md-3 col-sm-6">
            <label for="value-position" class="col-form-label">Value Position</label>
            <select id="value-position" class="form-control">
              <option value="top">Top</option>
              <option value="center">Center</option>
              <option value="bottom">Bottom</option>
            </select>
          </div>

        </div>

        <div class="row form-group">

          <div class="col-md-3 col-sm-6">
            <label for="axis-color" class="col-form-label">Axis Color</label>
            <select id="axis-color" class="form-control"></select>
          </div>

          <div class="col-md-3 col-sm-6">
            <label for="font-color" class="col-form-label">Font Color</label>
            <select id="font-color" class="form-control"></select>
          </div>

          <div class="col-md-3 col-sm-6">
            <label for="label-color" class="col-form-label">Label Color</label>
            <select id="label-color" class="form-control"></select>
          </div>

          <div class="col-md-3 col-sm-6">
            <label for="title-font-color" class="col-form-label">Title Color</label>
            <select id="title-font-color" class="form-control"></select>
          </div>

        </div>

        <div class="row form-group">

          <div class="col-md-6 col-sm-12">
            <label for="bar-colors" class="col-form-label">Bar Colors</label>
            <input type="text" id="bar-colors" class="form-control" placeholder="darkMagenta, darkRed, darkViolet">
          </div>

          <div class="col-md-6 col-sm-12">
            <label for="chart-title" class="col-form-label">Chart Title</label>
            <input type="text" id="chart-title" class="form-control" placeholder="Sales for 2018 (in billions)">
          </div>

        </div>

        <div class="row">

          <div class="col btn-group">
            <button type="button" class="btn btn-primary" id="redraw">Redraw Chart</button>
            <button type="button" class="btn btn-secondary" id="reset">Reset Chart</button>
            <button type="button" class="btn btn-info" id="get-code">Get Code</button>
          </div>

        </div>

        <div class="row">

          <div class="col">
            <button type="button" class="btn" data-toggle="collapse" data-target="#advanced-options">+ Additional Options</button>
          </div>

        </div>

        <div class="form-group collapse" id="advanced-options">
          <div class="row form-group">

            <div class="col-md-3 col-sm-6">
              <label for="title-font-size" class="col-form-label">Title Font Size</label>
              <input type="text" id="title-font-size" class="form-control" placeholder="24">
            </div>

            <div class="col-md-3 col-sm-6">
              <label for="y-axis-width" class="col-form-label">Y Axis Width</label>
              <input type="text" id="y-axis-width" class="form-control" placeholder="40">
            </div>

            <div class="col-md-3 col-sm-6">
              <label for="axis-border-width" class="col-form-label">Axis Border Width</label>
              <input type="text" id="axis-border-width" class="form-control" placeholder="2">
            </div>

            <div class="col-md-3 col-sm-6">
              <label for="x-axis-height" class="col-form-label">X Axis Height</label>
              <input type="text" id="x-axis-height" class="form-control" placeholder="40">
            </div>

          </div>

          <div class="row form-group">

            <div class="col-md-6 col-sm-12">
              <label for="y-axis-ticks" class="col-form-label">Y Axis Ticks</label>
              <input type="text" id="y-axis-ticks" class="form-control" placeholder="0, 30, 60, 90, 120, 150">
            </div>

          </div>

          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="show-animation" value="">
            <label class="form-check-label" for="show-animation">Show Animation</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" id="show-tooltips" value="option2">
            <label class="form-check-label" for="show-tooltips">Show Tooltips</label>
          </div>

        </div>

      </form>

      <div id="output-code-block" class="d-none row form-group">
        <div class="col-12">
          <label for="output-code" class="col-form-label">Copy and Paste into your project!</label>
          <textarea readonly class="form-control" rows="5" id="output-code"></textarea>
        </div>
      </div>

      <div class="row">
        <div class="col-8 col-offset-2">
          <div id="chart1"></div>
        </div>
      </div>

      <!--
        numOfElements - number (2 - 25)
        smallestValue - number (>=0)
        largestValue - number (>=1)

        height - number (100 - 500)
        width - number (200 - 500)
        spacerWidth - number (0 - 5)

        valuePosition - selected from top, middle, or
        fontColor - select from color choices
        labelColor - select from color choices

        barColors - text box comma separated values

        chartTitle - text box
        titleFontColor - select from color choices
        titleFontSize - number (18 - 36)

        axisBorderWidth - number (0 - 15)
        axisColor - select from color choices
        xAxisHeight - number (15 - 30)
        yAxisTicks - text box comma separated values
        yAxisWidth - number (35 - 70)

        showAnimation - checkbox
        showTooltips - checkbox
      -->

      <footer class="page-footer font-small pt-4">
        <div class="container-fluid text-center">
          <h5>Check out the project on <a target="_blank" href="http://www.github.com/andydlindsay/bar-gen">Github</a></h5>
        </div>
        <div class="footer-copyright text-center py-3">
          &copy; 2018 <a target="_blank" href="http://www.andydlindsay.com">Andy Lindsay</a>
        </div>
      </footer>

    </div>

    <!-- Load jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.js" integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>

    <!-- Load Bootstrap js -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

    <!-- Load bar-gen script -->
    <script src="bar-gen.js"></script>

    <!-- Generate bar charts -->
    <script>
      $(document).ready(function() {
        var colors = [
          "aliceBlue",
          "antiqueWhite",
          "aqua",
          "aquamarine",
          "azure",
          "beige",
          "bisque",
          "black",
          "blanchedAlmond",
          "blue",
          "blueViolet",
          "brown",
          "burlyWood",
          "cadetBlue",
          "chartreuse",
          "chocolate",
          "coral",
          "cornflowerBlue",
          "cornsilk",
          "crimson",
          "cyan",
          "darkBlue",
          "darkCyan",
          "darkGoldenRod",
          "darkGray",
          "darkGreen",
          "darkKhaki",
          "darkMagenta",
          "darkOliveGreen",
          "darkOrange",
          "darkOrchid",
          "darkRed",
          "darkSalmon",
          "darkSeaGreen",
          "darkSlateBlue",
          "darkSlateGray",
          "darkTurquoise",
          "darkViolet",
          "deepPink",
          "deepSkyBlue",
          "dimGray",
          "dodgerBlue",
          "fireBrick",
          "floralWhite",
          "forestGreen",
          "fuchsia",
          "gainsboro",
          "ghostWhite",
          "gold",
          "goldenRod",
          "gray",
          "green",
          "greenYellow",
          "honeyDew",
          "hotPink",
          "indianRed",
          "indigo",
          "ivory",
          "khaki",
          "lavender",
          "lavenderBlush",
          "lawnGreen",
          "lemonChiffon",
          "lightBlue",
          "lightCoral",
          "lightCyan",
          "lightGoldenRodYellow",
          "lightGray",
          "lightGreen",
          "lightPink",
          "lightSalmon",
          "lightSeaGreen",
          "lightSkyBlue",
          "lightSlateGray",
          "lightSteelBlue",
          "lightYellow",
          "lime",
          "limeGreen",
          "linen",
          "magenta",
          "maroon",
          "mediumAquaMarine",
          "mediumBlue",
          "mediumOrchid",
          "mediumPurple",
          "mediumSeaGreen",
          "mediumSlateBlue",
          "mediumSpringGreen",
          "mediumTurquoise",
          "mediumVioletRed",
          "midnightBlue",
          "mintCream",
          "mistyRose",
          "moccasin",
          "navajoWhite",
          "navy",
          "oldLace",
          "olive",
          "oliveDrab",
          "orange",
          "orangeRed",
          "orchid",
          "paleGoldenRod",
          "paleGreen",
          "paleTurquoise",
          "paleVioletRed",
          "papayaWhip",
          "peachPuff",
          "peru",
          "pink",
          "plum",
          "powderBlue",
          "purple",
          "red",
          "rosyBrown",
          "royalBlue",
          "saddleBrown",
          "salmon",
          "sandyBrown",
          "seaGreen",
          "seaShell",
          "sienna",
          "silver",
          "skyBlue",
          "slateBlue",
          "slateGray",
          "snow",
          "springGreen",
          "steelBlue",
          "tan",
          "teal",
          "thistle",
          "tomato",
          "turquoise",
          "violet",
          "wheat",
          "white",
          "whiteSmoke",
          "yellow",
          "yellowGreen"
        ];
        var chartOptions = {
          width: 475,
          height: 350
        };
        var dataArray = [
          [ 125, "JAN" ],
          [ 100, "FEB" ],
          [ 124, "MAR" ],
          [ 130, "APR" ],
          [ 98, "MAY" ],
          [ 110, "JUN" ],
          [ 104, "JUL" ],
          [ 127, "AUG" ],
          [ 147, "SEP" ],
          [ 110, "OCT" ],
          [ 120, "NOV" ],
          [ 145, "DEC" ]
        ];
        drawBarChart(dataArray, chartOptions, document.getElementById("chart1"));

        var options = {};

        $("#get-code").click(() => {
          $("#output-code-block").removeClass("d-none");
          $("#output-code").val("var options = " + JSON.stringify(options, null, 1));
        });

        $("#reset").click(() => {
          $("#output-code-block").addClass("d-none");
          options = {
            width: 475,
            height: 350
          };
          var $chart1 = $("#chart1");
          $chart1.empty();
          drawBarChart(dataArray, options, $chart1);
        });

        $("#redraw").click(() => {
          // retrieve form values
          var i;

          options.height = Number($("#height").val()) || 350;
          options.width = Number($("#width").val()) || 475;
          options.valuePosition = $("#value-position").val();

          var spacerWidth = $("#spacer-width").val() ? Number($("#spacer-width").val()) : -1;
          if (spacerWidth >= 0) {
            options.spacerWidth = spacerWidth;
          }

          var axisColor = $("#axis-color").val();
          if (axisColor) {
            options.axisColor = axisColor;
          }

          var fontColor = $("#font-color").val();
          if (fontColor) {
            options.fontColor = fontColor;
          }

          var labelColor = $("#label-color").val();
          if (labelColor) {
            options.labelColor = labelColor;
          }

          var titleFontColor = $("#title-font-color").val();
          if (titleFontColor) {
            options.titleFontColor = titleFontColor;
          }

          var barColors = $("#bar-colors").val();
          var lowerCaseColors = [];
          for (i = 0; i < colors.length; i++) {
            lowerCaseColors.push(colors[i].toLowerCase());
          }
          if (barColors) {
            var splitArray = barColors.split(",");
            var barColorArray = [];
            for (i = 0; i < splitArray.length; i++) {
              var barColor = splitArray[i].trim().toLowerCase();
              if (lowerCaseColors.indexOf(barColor) >= 0) {
                barColorArray.push(barColor);
              }
            }
            options.barColors = barColorArray;
          }

          var chartTitle = $("#chart-title").val();
          if (chartTitle) {
            options.chartTitle = chartTitle;
          }

          var titleFontSize = $("#title-font-size").val() ? Number($("#title-font-size").val()) : -1;
          if (titleFontSize >= 18) {
            options.titleFontSize = titleFontSize;
          }

          var yAxisWidth = $("#y-axis-width").val() ? Number($("#y-axis-width").val()) : -1;
          if (yAxisWidth >= 35) {
            options.yAxisWidth = yAxisWidth;
          }

          var axisBorderWidth = $("#axis-border-width").val() ? Number($("#axis-border-width").val()) : -1;
          if (axisBorderWidth >= 0) {
            options.axisBorderWidth = axisBorderWidth;
          }

          var xAxisHeight = $("#x-axis-height").val() ? Number($("#x-axis-height").val()) : -1;
          if (xAxisHeight >= 15) {
            options.xAxisHeight = xAxisHeight;
          }

          var tickArray = $("#y-axis-ticks").val() ? $("#y-axis-ticks").val().split(",") : [];
          if (tickArray.length > 0) {
            var yAxisTicks = [];
            for (i = 0; i < tickArray.length; i++) {
              yAxisTicks.push(Number(tickArray[i]));
            }
            options.yAxisTicks = yAxisTicks;
          }

          var showAnimation = $("#show-animation")[0].checked;
          if (showAnimation) {
            options.showAnimation = showAnimation;
          }

          var showTooltips = $("#show-tooltips")[0].checked;
          if (showTooltips) {
            options.showTooltips = showTooltips;
          }

          var $chart1 = $("#chart1");
          $chart1.empty();
          drawBarChart(dataArray, options, $chart1);
        });



        // capitalize the first letter of the input word
        var capFirstLetter = function(input) {
          return input.slice(0,1).toUpperCase() + input.slice(1);
        }

        var $fontColor = $("#font-color");
        var $labelColor = $("#label-color");
        var $titleFontColor = $("#title-font-color");
        var $axisColor = $("#axis-color");

        for (i = 0; i < colors.length; i++) {
          var option = "<option value=\"" + colors[i] + "\">" + capFirstLetter(colors[i]) + "</option>";
          $fontColor.append(option);
          $labelColor.append(option);
          $titleFontColor.append(option);
          $axisColor.append(option);
        }

        $fontColor.prop("selectedIndex", -1);
        $labelColor.prop("selectedIndex", -1);
        $titleFontColor.prop("selectedIndex", -1);
        $axisColor.prop("selectedIndex", -1);
      });
    </script>
  </body>

</html>
